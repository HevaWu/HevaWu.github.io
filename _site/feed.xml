<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.5">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-07-26T19:18:03+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">HevaWu’s Blog</title><entry><title type="html">Try Vision Sample Code</title><link href="http://localhost:4000/ios/vision/sample%20code/2019/07/26/Try-Vision-Sample-Code.html" rel="alternate" type="text/html" title="Try Vision Sample Code" /><published>2019-07-26T21:33:00+09:00</published><updated>2019-07-26T21:33:00+09:00</updated><id>http://localhost:4000/ios/vision/sample%20code/2019/07/26/Try-Vision-Sample-Code</id><content type="html" xml:base="http://localhost:4000/ios/vision/sample%20code/2019/07/26/Try-Vision-Sample-Code.html">&lt;p&gt;WWDC 2019 Introduce the &lt;code class=&quot;highlighter-rouge&quot;&gt;Vision&lt;/code&gt; Framework.
And they also provide the Sample Code !!!&lt;/p&gt;

&lt;p&gt;How exciting! Let’s try it!&lt;/p&gt;

&lt;h2 id=&quot;classifying-images-for-categorization-and-search&quot;&gt;Classifying Images for Categorization and Search&lt;/h2&gt;

&lt;p&gt;This is sample project for labeling/categorizing the giving images.&lt;/p&gt;

&lt;h3 id=&quot;requirements&quot;&gt;Requirements&lt;/h3&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SDKs: macOS 10.15+
Xcode: 11.0+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-26-Try-Vision-Sample-Code/classify_image.gif&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;analyzing-image-similarity-with-feature-print&quot;&gt;Analyzing Image Similarity with Feature Print&lt;/h2&gt;

&lt;p&gt;This is sample project for checking how silimarity between several pictures.
Sorry I didn’t update my device to iOS 13.
So the only thing I could attach at here is the video-cut from WWDC video.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-26-Try-Vision-Sample-Code/image_similarity.gif&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;highlighting-areas-of-interest-in-an-image-using-saliency&quot;&gt;Highlighting Areas of Interest in an Image Using Saliency&lt;/h2&gt;

&lt;p&gt;This is sample project for bounding people forcused area.
I only try in on macOS.&lt;/p&gt;

&lt;p&gt;After selecting the picture you want to anlyze, &lt;code class=&quot;highlighter-rouge&quot;&gt;Rects&lt;/code&gt; cut the saliency bound,
and &lt;code class=&quot;highlighter-rouge&quot;&gt;Mask&lt;/code&gt; give us the saliency masks. &lt;code class=&quot;highlighter-rouge&quot;&gt;Combind&lt;/code&gt; means combine the bounds &amp;amp; masks,
which will show the saliency area above the picture.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-26-Try-Vision-Sample-Code/highlight_image_saliency.gif&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><category term="iOS" /><category term="Vision" /><summary type="html">WWDC 2019 Introduce the Vision Framework. And they also provide the Sample Code !!!</summary></entry><entry><title type="html">First Try with SwiftUI</title><link href="http://localhost:4000/ios/wwdc2019/swiftui/2019/07/12/First-Try-With-SwiftUI.html" rel="alternate" type="text/html" title="First Try with SwiftUI" /><published>2019-07-12T21:14:00+09:00</published><updated>2019-07-12T21:14:00+09:00</updated><id>http://localhost:4000/ios/wwdc2019/swiftui/2019/07/12/First-Try-With-SwiftUI</id><content type="html" xml:base="http://localhost:4000/ios/wwdc2019/swiftui/2019/07/12/First-Try-With-SwiftUI.html">&lt;h1 id=&quot;accessibility-in-swiftui&quot;&gt;Accessibility in SwiftUI&lt;/h1&gt;

&lt;h2 id=&quot;introduction-to-accessibility&quot;&gt;Introduction to Accessibility&lt;/h2&gt;

&lt;p&gt;Make sure your app’s accessibility is:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Understandable: Labels&lt;/li&gt;
  &lt;li&gt;Interactable: Actions&lt;/li&gt;
  &lt;li&gt;Navigable: Ordering and Grouping&lt;/li&gt;
&lt;/ol&gt;</content><author><name></name></author><category term="iOS" /><category term="WWDC2019" /><category term="SwiftUI" /><summary type="html">Accessibility in SwiftUI</summary></entry><entry><title type="html">Be Careful Using `Named Color` at Xcode Xib File</title><link href="http://localhost:4000/ios/xcode/xib/named%20color/2019/07/04/Be-Careful-Using-Named-Color-at-Xcode-Xib-File.html" rel="alternate" type="text/html" title="Be Careful Using `Named Color` at Xcode Xib File" /><published>2019-07-04T00:30:00+09:00</published><updated>2019-07-04T00:30:00+09:00</updated><id>http://localhost:4000/ios/xcode/xib/named%20color/2019/07/04/Be-Careful-Using-Named-Color-at-Xcode-Xib-File</id><content type="html" xml:base="http://localhost:4000/ios/xcode/xib/named%20color/2019/07/04/Be-Careful-Using-Named-Color-at-Xcode-Xib-File.html">&lt;p&gt;At WWDC 2019, Apple introduced the nice dark mode color settings.
By adding the dark mode color settings, Apple suggest to define &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt; at &lt;code class=&quot;highlighter-rouge&quot;&gt;Assets.xsassets&lt;/code&gt;.
However, during implementation, there is an issue, and we should pay attetion on it.&lt;/p&gt;

&lt;p&gt;I will first introduce how to add &amp;amp; use the &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt;,
then introduce the problems.&lt;/p&gt;

&lt;p&gt;At first, I have a &lt;code class=&quot;highlighter-rouge&quot;&gt;TabBarController&lt;/code&gt; based project.
I could switch my view controllers (FirstViewController, SecondViewController) by using the tab bar.&lt;/p&gt;

&lt;h2 id=&quot;add-new-color-set&quot;&gt;Add New Color Set&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Open &lt;code class=&quot;highlighter-rouge&quot;&gt;Assets.xcassets&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Click &lt;code class=&quot;highlighter-rouge&quot;&gt;+&lt;/code&gt; and choosing &lt;code class=&quot;highlighter-rouge&quot;&gt;New Color Set&lt;/code&gt;, then you could naming it(I add a &lt;code class=&quot;highlighter-rouge&quot;&gt;TabBarItemLabelColor&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-03-Be-Careful-Using-Named-Color-at-Xcode-Xib-File/color_set.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Under &lt;code class=&quot;highlighter-rouge&quot;&gt;Attributes Inspector&lt;/code&gt;, set the &lt;code class=&quot;highlighter-rouge&quot;&gt;Color&lt;/code&gt; params&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;use-new-color-set&quot;&gt;Use New Color Set&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;At &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file, we could directly select the color under &lt;code class=&quot;highlighter-rouge&quot;&gt;Attributes Inspector&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-03-Be-Careful-Using-Named-Color-at-Xcode-Xib-File/xib.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;At coding part, we could directly call &lt;code class=&quot;highlighter-rouge&quot;&gt;UIColor(named: &quot;TabBarItemLabelColor&quot;)&lt;/code&gt; to use it&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;problems-be-careful-bomb-&quot;&gt;Problems (Be Careful :bomb: )&lt;/h2&gt;
&lt;p&gt;OK. Now back to our main point.&lt;/p&gt;

&lt;h3 id=&quot;if-you-are-using-named-color-at-the-xib-file-please-be-carefule-to-change-it-at-the-coding-part&quot;&gt;If you are using &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt; at the &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file, please be carefule to change it at the coding part&lt;/h3&gt;
&lt;p&gt;Since we add a new color set at the &lt;code class=&quot;highlighter-rouge&quot;&gt;Assets.xcassets&lt;/code&gt;,
so of course we could directly call it at the &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;But&lt;/strong&gt; If you will &lt;code class=&quot;highlighter-rouge&quot;&gt;rewrite&lt;/code&gt; this variable in the later coding part.
Then you should be careful.&lt;/p&gt;

&lt;p&gt;At the first, I thought we could rewrite the color at the code part where we want.
(Same as before). However, I found my color is not updated (showing correctly)
at the first time. :disappointed:&lt;/p&gt;

&lt;p&gt;Then I try to find the reason.&lt;/p&gt;

&lt;p&gt;For what I am testing is :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Add an &lt;code class=&quot;highlighter-rouge&quot;&gt;label color&lt;/code&gt; observer at the &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidLoad&lt;/code&gt; part (where I prepare to rewrite the color). I tried to use this observer to help checking how the color changes.
    &lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;firstLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;red&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;firstLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// observer for checking if the color is changed&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;observer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;firstLabel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
     &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;#line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And I got this output&lt;/p&gt;
&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;kt&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;UIExtendedSRGBColorSpace&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kCGColorSpaceModelRGB&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;38&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first line is &lt;code class=&quot;highlighter-rouge&quot;&gt;print&lt;/code&gt; line, so we &lt;strong&gt;do&lt;/strong&gt; rewrite the color
The second line shows the label’s color changed later.&lt;/p&gt;

&lt;p&gt;I have no idea when the label’s color changed.
But I tried to put the &lt;code class=&quot;highlighter-rouge&quot;&gt;label.color = .red&lt;/code&gt; rewrite color code at
&lt;code class=&quot;highlighter-rouge&quot;&gt;variabe's didSet{}&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidLayoutSubview()&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;viewWillAppear()&lt;/code&gt; part.
All of them cannot rewrite the color succesfully.
Except &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidAppear()&lt;/code&gt;
You could checking them in this file
https://github.com/HevaWu/TestColorAssets/blob/master/TestColorAssets/TestColorAssets/FirstViewController.swift&lt;/p&gt;

&lt;p&gt;I don’t know the detail implementation about the &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;For what I am thinking is:
Maybe reading the &lt;code class=&quot;highlighter-rouge&quot;&gt;color&lt;/code&gt; from &lt;code class=&quot;highlighter-rouge&quot;&gt;Assets.xsassets&lt;/code&gt; takes some time &amp;amp; calculation.&lt;/p&gt;

&lt;p&gt;At the &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file part, if we checking its code&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-03-Be-Careful-Using-Named-Color-at-Xcode-Xib-File/text_color.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So Xcode read the color by its &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt;
And in the &lt;code class=&quot;highlighter-rouge&quot;&gt;resources&lt;/code&gt; part&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-07-03-Be-Careful-Using-Named-Color-at-Xcode-Xib-File/resources.png&quot; width=&quot;100%&quot; /&gt;
Xcode will try to find the &lt;code class=&quot;highlighter-rouge&quot;&gt;named Color&lt;/code&gt; by reading its resources&lt;/p&gt;

&lt;p&gt;This &lt;code class=&quot;highlighter-rouge&quot;&gt;finding&lt;/code&gt; might take some times.&lt;/p&gt;

&lt;p&gt;Because if we set the &lt;code class=&quot;highlighter-rouge&quot;&gt;dark mode&lt;/code&gt; colors, Xcode will first reading the device
environment, then try to update/fit the colors.
But during this time &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidLoad()&lt;/code&gt; has already finished.&lt;/p&gt;

&lt;p&gt;So even we rewrite the label’s color in it,
it still be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;If you are not using &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt; at the &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file part &amp;lt;- everything goes well&lt;/li&gt;
  &lt;li&gt;If you are using &lt;code class=&quot;highlighter-rouge&quot;&gt;Named Color&lt;/code&gt; at the &lt;code class=&quot;highlighter-rouge&quot;&gt;xib&lt;/code&gt; file
    &lt;ul&gt;
      &lt;li&gt;You will not change this color in the code part &amp;lt;- everythin goes well&lt;/li&gt;
      &lt;li&gt;You will/might change this color later (be carefule)
        &lt;ul&gt;
          &lt;li&gt;You shouldn’t change the color at &lt;code class=&quot;highlighter-rouge&quot;&gt;didSet{}&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidLoad()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidLayoutSubviews()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;viewWillAppear()&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;You could change the color at &lt;code class=&quot;highlighter-rouge&quot;&gt;viewDidAppear()&lt;/code&gt; (If you find other places we could rewrite it, please tell me :+1: )&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;at-the-end&quot;&gt;At the end&lt;/h2&gt;
&lt;p&gt;Thank you for the reading. Please feel free to tell me if I wrote anything wrong. :relaxed:&lt;/p&gt;

&lt;h4 id=&quot;link&quot;&gt;Link&lt;/h4&gt;
&lt;p&gt;https://github.com/HevaWu/TestColorAssets&lt;/p&gt;</content><author><name></name></author><category term="iOS" /><category term="Xcode" /><category term="XIB" /><category term="Named Color" /><summary type="html">At WWDC 2019, Apple introduced the nice dark mode color settings. By adding the dark mode color settings, Apple suggest to define Named Color at Assets.xsassets. However, during implementation, there is an issue, and we should pay attetion on it.</summary></entry><entry><title type="html">Cannot Run `Realm` Scheme After Install Xcode11 beta</title><link href="http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/28/Cannot_Run_Realm_Scheme_After_Install_Xcode11beta.html" rel="alternate" type="text/html" title="Cannot Run `Realm` Scheme After Install Xcode11 beta" /><published>2019-06-28T20:53:00+09:00</published><updated>2019-06-28T20:53:00+09:00</updated><id>http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/28/Cannot_Run_Realm_Scheme_After_Install_Xcode11beta</id><content type="html" xml:base="http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/28/Cannot_Run_Realm_Scheme_After_Install_Xcode11beta.html">&lt;h2 id=&quot;description&quot;&gt;Description&lt;/h2&gt;
&lt;p&gt;This happens because I installed both Xcode 10 &amp;amp; Xcode 11 beta. Also, I installed the required components after installing Xcode 11 beta.
After installing Xcode 11 beta, when we try to run application, it shows an error.
For my case, &lt;code class=&quot;highlighter-rouge&quot;&gt;beta&lt;/code&gt; works well, &lt;code class=&quot;highlighter-rouge&quot;&gt;real&lt;/code&gt; build successful but Xcode show an error &lt;code class=&quot;highlighter-rouge&quot;&gt;The Application's Info.plist Does Not Contain CFBundleVersion&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;reason&quot;&gt;Reason&lt;/h2&gt;
&lt;p&gt;Reference: https://stackoverflow.com/questions/56450295/cannot-run-application-on-simulator-after-installing-xcode-11-cfbundleversion&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;The issue here is that the new version of CoreSimulator.framework with Xcode 11 beta does validation on CFBundleVersion that previous versions did not do. These checks are valid, and it does represent an issue in your application, but there’s also a bug in how the checks were performed in Xcode 11 Beta 1 which compounds the issue.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;solution&quot;&gt;Solution&lt;/h2&gt;
&lt;p&gt;For my case, the &lt;code class=&quot;highlighter-rouge&quot;&gt;CFBundleVersion&lt;/code&gt; shows correctly.
And &lt;code class=&quot;highlighter-rouge&quot;&gt;killall -9 CoreSimulatorBridge&lt;/code&gt; doesn’t works for me.&lt;/p&gt;

&lt;p&gt;What I’m trying to do is:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Quit Xcode &amp;amp; Simulator&lt;/li&gt;
  &lt;li&gt;Remove &lt;code class=&quot;highlighter-rouge&quot;&gt;/Library/Developer&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Relaunch Xcode 10, and it works well.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;After relaunching it works well now. 🎉&lt;/p&gt;</content><author><name></name></author><category term="iOS" /><category term="WWDC2019" /><category term="API Design" /><category term="Swift" /><summary type="html">Description This happens because I installed both Xcode 10 &amp;amp; Xcode 11 beta. Also, I installed the required components after installing Xcode 11 beta. After installing Xcode 11 beta, when we try to run application, it shows an error. For my case, beta works well, real build successful but Xcode show an error The Application's Info.plist Does Not Contain CFBundleVersion.</summary></entry><entry><title type="html">Modern Swift API Design</title><link href="http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/13/Modern-Swift-API-Deisgn.html" rel="alternate" type="text/html" title="Modern Swift API Design" /><published>2019-06-13T00:59:00+09:00</published><updated>2019-06-13T00:59:00+09:00</updated><id>http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/13/Modern-Swift-API-Deisgn</id><content type="html" xml:base="http://localhost:4000/ios/wwdc2019/api%20design/swift/2019/06/13/Modern-Swift-API-Deisgn.html">&lt;h1 id=&quot;guidelines&quot;&gt;Guidelines&lt;/h1&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;swift.org/documentation/api-design-guidelines&lt;/code&gt;&lt;/p&gt;

&lt;h1 id=&quot;clarity-the-point-of-use&quot;&gt;Clarity the point of use&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;No Prefixes in Swift-only Frameworks&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;values-and-references&quot;&gt;Values and References&lt;/h2&gt;
&lt;p&gt;Classes - Reference Types
Structs and Enums - Value Types&lt;/p&gt;

&lt;h3 id=&quot;choosing---reference-or-value-&quot;&gt;Choosing - Reference or Value ?&lt;/h3&gt;
&lt;p&gt;Prefer structs over classes&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Only choose classes when reference semantics are important&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Classes can make a good choice when&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;You need a reference counting and deinitialization&lt;/li&gt;
  &lt;li&gt;The value is held centrally and shared&lt;/li&gt;
  &lt;li&gt;Where there is held centrally and shared&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;value-and-reference-semantics&quot;&gt;Value and Reference Semantics&lt;/h3&gt;
&lt;p&gt;Value types makes copy of reference types&lt;/p&gt;

&lt;h2 id=&quot;protocols-and-generics&quot;&gt;Protocols and Generics&lt;/h2&gt;
&lt;p&gt;Don’t literally start with a protocol&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Start with concrete use cases&lt;/li&gt;
  &lt;li&gt;Discover a need for generic code&lt;/li&gt;
  &lt;li&gt;Try to compose solutions from existing protocols first&lt;/li&gt;
  &lt;li&gt;Consider a generic type instead of a protocol&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Protocol for code reuse, otherwise use generics.&lt;/p&gt;

&lt;h3 id=&quot;key-path-member-lookup&quot;&gt;Key Path Member Lookup&lt;/h3&gt;
&lt;p&gt;Swift Evolution: SE-0252
&lt;code class=&quot;highlighter-rouge&quot;&gt;@dynamicMemberLookup&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;subscript&lt;/code&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;$&lt;/code&gt; backing storage property, binding property, key path member lookup&lt;/p&gt;

&lt;h2 id=&quot;property-wrapper&quot;&gt;Property Wrapper&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@LateInitialized&lt;/code&gt; &amp;lt;- give a private policy
Provides similar benefits to the built-in &lt;code class=&quot;highlighter-rouge&quot;&gt;lazy&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Eliminates boilerplate&lt;/li&gt;
  &lt;li&gt;Documents semantics at the point of definition&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Property wrappers reuse computed property definitions.&lt;/p&gt;

&lt;h3 id=&quot;using-property-wrappers&quot;&gt;Using Property Wrappers&lt;/h3&gt;
&lt;p&gt;Uses of property wrappers expand into a stored property and a computed property&lt;/p&gt;

&lt;h3 id=&quot;using-the-defensivecopying-property-wrapper&quot;&gt;Using the DefensiveCopying Property Wrapper&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;@DefensiveCopying&lt;/code&gt; Variables can be initialized in their declaration&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Property Wrappers in UserDefault&lt;/li&gt;
  &lt;li&gt;Property Wrappers in SwiftUI&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="iOS" /><category term="WWDC2019" /><category term="API Design" /><category term="Swift" /><summary type="html">Guidelines swift.org/documentation/api-design-guidelines</summary></entry><entry><title type="html">Vision Framework</title><link href="http://localhost:4000/ios/image%20processing/vision/2019/06/07/Vision-Framework.html" rel="alternate" type="text/html" title="Vision Framework" /><published>2019-06-07T23:35:00+09:00</published><updated>2019-06-07T23:35:00+09:00</updated><id>http://localhost:4000/ios/image%20processing/vision/2019/06/07/Vision-Framework</id><content type="html" xml:base="http://localhost:4000/ios/image%20processing/vision/2019/06/07/Vision-Framework.html">&lt;p&gt;Since WWDC 2018, Apple introduces the &lt;code class=&quot;highlighter-rouge&quot;&gt;Vision&lt;/code&gt; Framework.
And I’d like to take some nots on it.&lt;/p&gt;

&lt;h1 id=&quot;saliency&quot;&gt;Saliency&lt;/h1&gt;

&lt;p&gt;Saliency generated people’s attension &amp;amp; objectness.
Highlight when people watch the image.&lt;/p&gt;

&lt;p&gt;Attention Based&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Human Aspected&lt;/li&gt;
  &lt;li&gt;Trained on eye movements&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Objectness Based&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Foreground Objects&lt;/li&gt;
  &lt;li&gt;Trained on object segmentation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is an example image:
The first picture is the original picture
The second is attention based picture
The third is objectness based picture
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/attention_objectness.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;determined-by&quot;&gt;Determined by&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Contrast&lt;/li&gt;
  &lt;li&gt;Faces&lt;/li&gt;
  &lt;li&gt;Subjects&lt;/li&gt;
  &lt;li&gt;Horizons&lt;/li&gt;
  &lt;li&gt;Light&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;heatmap&quot;&gt;Heatmap&lt;/h2&gt;
&lt;p&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;VNGenerateAttensionBasedSaliencyImageRequest&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;VNGenerateObjectnessBasedSaliencyImageRequest&lt;/code&gt;
to generate the image with the highlight picture.
The highlight part is covered by a heatmap, which point out the Saliency part.
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/saliency_example_code.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;bounding-box&quot;&gt;Bounding Box&lt;/h2&gt;
&lt;p&gt;For attension of the saliency, we will have a bounding box, which
could draw out the correct image area.&lt;/p&gt;

&lt;p&gt;Here is an example code about how to adding th bounding box and showing it.
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/saliency_boundbox.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;graphical-uses&quot;&gt;Graphical Uses&lt;/h2&gt;
&lt;p&gt;Add type of filter or photo transition.
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/saliency_graphic_uses.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;image-classification&quot;&gt;Image Classification&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;Use saliency to detect the object &amp;amp; return the bounding box-es&lt;/li&gt;
  &lt;li&gt;For each bounding box, use image classification to find out which object it is.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;taxonomy&quot;&gt;Taxonomy&lt;/h2&gt;
&lt;p&gt;Hierarchical structure, containing around 100 classes.
Grouping based on shared semantic meanings.
Define relationships between classes of increasing specificity.&lt;/p&gt;

&lt;h3 id=&quot;taxonomy-construction&quot;&gt;Taxonomy Construction&lt;/h3&gt;
&lt;p&gt;Include classes that are visually identifiable&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Avoid&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Abstract /controversial concepts&lt;/li&gt;
  &lt;li&gt;Proper nouns, adjectives, and basic shapes&lt;/li&gt;
  &lt;li&gt;Occupations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here is the result of classify image
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/image_classification.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Terms&lt;/em&gt;
Confidence &amp;gt; Threshold =&amp;gt; Predicted image&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Precision and Recall&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Add &lt;code class=&quot;highlighter-rouge&quot;&gt;hasMinimumPrecision&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;Recall&lt;/code&gt; params to help filtering the high precision images.
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/image_classify_recall.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- PR Curve &amp;lt;img src=&quot;/images/2019-06-07-Vision-Framework/image_pr_curve.png&quot; width=&quot;100%&quot;&amp;gt;

- Use Recall &amp;amp; Precision to controll get the high precision &amp;lt;img src=&quot;/images/2019-06-07-Vision-Framework/filter_pr_curve.png&quot; width=&quot;100%&quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;
&lt;p&gt;Returned observation contains labels and an associated confidence.
Choice of threshold is application specific.
Can be determined by desired precision and recall.&lt;/p&gt;

&lt;h1 id=&quot;image-similarity&quot;&gt;Image Similarity&lt;/h1&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-06-07-Vision-Framework/image_similarity.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Descriptor should describes image content, not just appearance.
Classification network creates representations of images.
FeaturePrint - vector image descriptor similar to a word vector.&lt;/p&gt;

&lt;h2 id=&quot;demo&quot;&gt;Demo&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-06-07-Vision-Framework/demo_image_similarity.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;face-technology&quot;&gt;Face Technology&lt;/h1&gt;
&lt;h2 id=&quot;face-landmarks&quot;&gt;Face Landmarks&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-06-07-Vision-Framework/face_landmarks.png&quot; width=&quot;100%&quot; /&gt;
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/face_landmarks_demo.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;VNDetectedObjectObservation&lt;/code&gt; contain bounding Box -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;VNFaceObservation&lt;/code&gt;(landmarks)
&lt;code class=&quot;highlighter-rouge&quot;&gt;VNFaceLandmarks&lt;/code&gt; confidence -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;VNFaceLandmarks2D&lt;/code&gt; (eyes…)&lt;/p&gt;

&lt;p&gt;Revision Example – default versus explicit
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/face_landmarks_revision.png&quot; width=&quot;100%&quot; /&gt;
76points -&amp;gt; 2019 SDK&lt;/p&gt;

&lt;h2 id=&quot;face-capture-quality&quot;&gt;Face Capture Quality&lt;/h2&gt;
&lt;p&gt;Face Capture Quality is a holistic measure that considers:
lighting, blur, occlusion, expression, pose, …
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/face_capture_quality.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Face capture quality should not be compared against a threshold.
Face capture quality is a &lt;code class=&quot;highlighter-rouge&quot;&gt;comparative&lt;/code&gt; measure of the &lt;code class=&quot;highlighter-rouge&quot;&gt;same&lt;/code&gt; subject.&lt;/p&gt;

&lt;h1 id=&quot;new-detector&quot;&gt;New Detector&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Human Detector&lt;/li&gt;
  &lt;li&gt;Cat and Dog Detector
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/new_detectors.png&quot; width=&quot;100%&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;tracking-enhancements&quot;&gt;Tracking Enhancements&lt;/h1&gt;
&lt;p&gt;Less expansion into the background
Better handling of occlusions
Machine Learning based
Runs on CPU, GPU, and A12 Bionic with low power consumption
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/tracking_vision.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;VNSequenceRequestHandler()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;inputObservation&lt;/code&gt;
could add revision -&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;request.revision = VNTrackObjectRequestRevision2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;vision-and-coreml-integration-enhancements&quot;&gt;Vision and CoreML Integration Enhancements&lt;/h1&gt;
&lt;p&gt;Vision now works with CoreML models that have &lt;code class=&quot;highlighter-rouge&quot;&gt;single input&lt;/code&gt; of &lt;code class=&quot;highlighter-rouge&quot;&gt;image type&lt;/code&gt;
Vision converts &lt;code class=&quot;highlighter-rouge&quot;&gt;Inputs&lt;/code&gt; image to CoreML required input size and color scheme
Vision wraps &lt;code class=&quot;highlighter-rouge&quot;&gt;Outputs&lt;/code&gt; into appropriate Observation types
&lt;img src=&quot;/images/2019-06-07-Vision-Framework/vision_coreML.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vision can now work with CoreML models that have &lt;code class=&quot;highlighter-rouge&quot;&gt;one or more&lt;/code&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;Inputs&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Including &lt;code class=&quot;highlighter-rouge&quot;&gt;multi-image&lt;/code&gt; inputs
Vision will use &lt;code class=&quot;highlighter-rouge&quot;&gt;name-mapping&lt;/code&gt; of &lt;code class=&quot;highlighter-rouge&quot;&gt;Output&lt;/code&gt; names to Observations&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-06-07-Vision-Framework/vision_coreML_api.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><category term="iOS" /><category term="Image Processing" /><category term="Vision" /><summary type="html">Since WWDC 2018, Apple introduces the Vision Framework. And I’d like to take some nots on it.</summary></entry><entry><title type="html">Debug UIViewAlertForUnsatisfiableConstraints</title><link href="http://localhost:4000/ios/layout/constraint/2019/05/28/Debug-UIViewAlertForUnsatisfiableConstraints.html" rel="alternate" type="text/html" title="Debug UIViewAlertForUnsatisfiableConstraints" /><published>2019-05-28T01:04:00+09:00</published><updated>2019-05-28T01:04:00+09:00</updated><id>http://localhost:4000/ios/layout/constraint/2019/05/28/Debug-UIViewAlertForUnsatisfiableConstraints</id><content type="html" xml:base="http://localhost:4000/ios/layout/constraint/2019/05/28/Debug-UIViewAlertForUnsatisfiableConstraints.html">&lt;p&gt;When we update our app’s UI, sometimes we might got this layout warning like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-27-Debug-UIViewAlertForUnsatisfiableConstraints/layout_warning.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Uhhhhh, What should we do now?&lt;/p&gt;

&lt;p&gt;So, follow the instruction&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Make a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints
to catch this in the debugger`&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;OK. Got it. Let’s set a &lt;code class=&quot;highlighter-rouge&quot;&gt;Symbolic&lt;/code&gt; breakpoint by setting its &lt;code class=&quot;highlighter-rouge&quot;&gt;Symbol&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;UIViewAlertForUnsatisfiableConstraints&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-27-Debug-UIViewAlertForUnsatisfiableConstraints/add_symbolic.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;DONE. :tada:&lt;/p&gt;

&lt;p&gt;Now, go into this warning view again. The breakpoint will automatically
interruput you to this :arrow_down:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-27-Debug-UIViewAlertForUnsatisfiableConstraints/symbolic_breakpoint.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;What to do now with pointers and assembly codes?&lt;/p&gt;

&lt;p&gt;After searching, I found some solutions to debug this breakpoint.
If you see the :arrow_up: images, you can find strings like
&lt;strong&gt;%rbp, %rsp, %r15, %r14&lt;/strong&gt; etc…
These properties hold the address of view-s &amp;amp; constraint-s.
We could print them in XCode console to see more details.&lt;/p&gt;

&lt;p&gt;EX: try to print &lt;code class=&quot;highlighter-rouge&quot;&gt;po $rbx&lt;/code&gt;, which contains all the views &amp;amp; constraints
which are involved in this issue. It also contains the memory address
of the view.&lt;/p&gt;

&lt;p&gt;If you want to change the appearance of some views.
You could try below commands:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-objective-c&quot;&gt;ex [(UIView *)0x7fb2dceb4e80 setBackgroundColor: [UIColor greenColor]]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, &lt;code class=&quot;highlighter-rouge&quot;&gt;Continue program execution&lt;/code&gt;, you will see the related view’s
background color has been changed.&lt;/p&gt;

&lt;p&gt;Sometimes, the view with changed colors might be burried under other
views, so it wont be immediately visible on the screen.
In such case, use the &lt;code class=&quot;highlighter-rouge&quot;&gt;Debug View Hierachy&lt;/code&gt; to dig deeper ~~~~&lt;/p&gt;

&lt;p&gt;Hope it would be helpful to someone. :relaxed:&lt;/p&gt;</content><author><name></name></author><category term="UIViewAlertForUnsatisfiableConstraints" /><category term="iOS" /><category term="Layout Constraint" /><summary type="html">When we update our app’s UI, sometimes we might got this layout warning like this:</summary></entry><entry><title type="html">iOS Logging System – OSLog</title><link href="http://localhost:4000/ios/logging/oslog/2019/05/14/OSLog.html" rel="alternate" type="text/html" title="iOS Logging System -- OSLog" /><published>2019-05-14T01:04:00+09:00</published><updated>2019-05-14T01:04:00+09:00</updated><id>http://localhost:4000/ios/logging/oslog/2019/05/14/OSLog</id><content type="html" xml:base="http://localhost:4000/ios/logging/oslog/2019/05/14/OSLog.html">&lt;p&gt;This article is introducing the &lt;code class=&quot;highlighter-rouge&quot;&gt;Unified Logging&lt;/code&gt; system and how to use it to measure performace.&lt;/p&gt;

&lt;h1 id=&quot;unified-logging&quot;&gt;Unified Logging&lt;/h1&gt;
&lt;p&gt;From the document:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;The unified logging system provides a single, efficient,
 performant API for capturing messaging across all levels
 of the system.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Unified Logging uses Activity Tracing for performance, consolicates kernel and user-space logging.&lt;/p&gt;

&lt;h2 id=&quot;why-using-it&quot;&gt;Why using it&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Compressing data&lt;/li&gt;
  &lt;li&gt;Deferring work and data collection&lt;/li&gt;
  &lt;li&gt;Managing log message lifecycle&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We want as much logging on all the time as possible.&lt;/p&gt;

&lt;h2 id=&quot;key-features&quot;&gt;Key Features&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Improved categorization and filtering of log messages&lt;/li&gt;
  &lt;li&gt;Logging system collects caller information&lt;/li&gt;
  &lt;li&gt;New Builtin type specifiers - simplifies log message preparation&lt;/li&gt;
  &lt;li&gt;New Console application and command-line tool (graph)&lt;/li&gt;
  &lt;li&gt;Supported on macOS, iOS, tvOS, watchOS and Simulators&lt;/li&gt;
  &lt;li&gt;Support for Objective C, C++, C and Swift&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;logging-concepts&quot;&gt;Logging Concepts&lt;/h2&gt;

&lt;h3 id=&quot;adption&quot;&gt;Adption&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Build with the macOS 10.12, iOS 10.0 or watchOS 3.0 SDK&lt;/li&gt;
  &lt;li&gt;Legacy APIs(NSLog, as_log_message, syslog…) redirected into new system&lt;/li&gt;
  &lt;li&gt;Log data will be in new format and location&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;new-file-formats&quot;&gt;New File Formats&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Log data is kept in a compressed binary format: &lt;code class=&quot;highlighter-rouge&quot;&gt;.tracev3&lt;/code&gt; files&lt;/li&gt;
  &lt;li&gt;Stored under &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/db/diagnostics&lt;/code&gt; with support in &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/db/uuidtext&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;.logarchive&lt;/code&gt; format for portability of logs (collection of log data, easier to transfer to email or …)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;subsystems-and-categories&quot;&gt;Subsystems and Categories&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Log messages can be associated with a subsystem and category&lt;/li&gt;
  &lt;li&gt;Can be used to control how log messages are fitered and displayed&lt;/li&gt;
  &lt;li&gt;A subsystem can contain multiple categories&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Your application will have own subsystems and categories as needed.&lt;/p&gt;

&lt;h3 id=&quot;logging-behavior&quot;&gt;Logging Behavior&lt;/h3&gt;
&lt;p&gt;Each log message has a level determined by the API used&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Three basic levels – Default, Info, Debug&lt;/li&gt;
  &lt;li&gt;Two special levels – Fault, Error&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each basic levels has two characteristics that can be set for system, subsystem, or category&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Need to check if it is enabled (Default messages are always enabled)&lt;/li&gt;
  &lt;li&gt;Is it stored to disk or memory? (Fault or Error are always stored to disk.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The levels are hierarchical&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Setting Debug to go to disk implies that Info will also go to disk&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Behavior can be customized by installing profiles or, on macOS, via log command&lt;/p&gt;

&lt;h3 id=&quot;standard-behavior&quot;&gt;Standard Behavior&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Message Level&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Enabled&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;Destination&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DEFAULT LEVEL&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ALWAYS&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DISK&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;INFO LEVEL&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;YES&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;MEMORY&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DEBUG LEVEL&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;NO&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;N/A&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ERROR&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ALWAYS&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DISK&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;FAULT&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ALWAYS&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;DISK&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;privacy&quot;&gt;Privacy&lt;/h3&gt;
&lt;p&gt;Prevent accidental logging of Personally Identifiable Information(PII)&lt;/p&gt;

&lt;h3 id=&quot;faults-and-errors&quot;&gt;Faults and Errors&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;Errors – represent issues discovered within a given application/library&lt;/li&gt;
  &lt;li&gt;Faults – represent more global problems in the system&lt;/li&gt;
  &lt;li&gt;Faults and Error log information is captured into a seperate set of log files (They will exsit longer than normal logs)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;architecture&quot;&gt;Architecture&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/architecture.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;type-formatters&quot;&gt;Type Formatters&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/type_formatter.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;parameter-privacy&quot;&gt;Parameter Privacy&lt;/h2&gt;
&lt;p&gt;Privacy is handled on a parameter by parameter basis
&lt;code class=&quot;highlighter-rouge&quot;&gt;Scalars&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;Static strings&lt;/code&gt; are assumed to be public
&lt;code class=&quot;highlighter-rouge&quot;&gt;Dynamic strings&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;collections&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;objects&lt;/code&gt; are assumed to be private&lt;/p&gt;

&lt;h2 id=&quot;demo&quot;&gt;Demo&lt;/h2&gt;
&lt;p&gt;Here is the changing :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/log_message_ex.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;activity-api-improvements&quot;&gt;Activity API Improvements&lt;/h2&gt;
&lt;p&gt;Activites are not objects that can be stored and re-used&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Direct control of activity relationships during creation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;New API to auto-scope activites within the code&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/activity_example.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;

&lt;h3 id=&quot;console&quot;&gt;Console&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;View live content form a system&lt;/li&gt;
  &lt;li&gt;Open log archives&lt;/li&gt;
  &lt;li&gt;New Activity centric view of logging and tracing&lt;/li&gt;
  &lt;li&gt;Advanced filtering and searching&lt;/li&gt;
  &lt;li&gt;Device support&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;log-command-line-tool&quot;&gt;log Command Line Tool&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/log_system_console.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;logging-etiquette&quot;&gt;Logging Etiquette&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Ensure messages contain only information useful for debugging&lt;/li&gt;
  &lt;li&gt;Leverage built-in formatters&lt;/li&gt;
  &lt;li&gt;Avoid creating wrapper functions for &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log&lt;/code&gt; APIs&lt;/li&gt;
  &lt;li&gt;Log only what you need from collections (Dictionaries, Arrays, etc)&lt;/li&gt;
  &lt;li&gt;Avoid logging in tight code loops&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;suggest&quot;&gt;Suggest&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log&lt;/code&gt; to log critical details to help debug issues&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log_info&lt;/code&gt; for additional info that will be captured during error or fault&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log_debug&lt;/code&gt; for high-volume debugging during development&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log_error&lt;/code&gt; to cause additional information capture from app&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log_fault&lt;/code&gt; to cause additional information capture from system&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;using-sysdiagnose&quot;&gt;Using &lt;code class=&quot;highlighter-rouge&quot;&gt;sysdiagnose&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sysdiagnose&lt;/code&gt; is the preferred method to capture data for bug reports&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Unified logging data in &lt;code class=&quot;highlighter-rouge&quot;&gt;system_logs.archive&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;key-chord&lt;/code&gt; to trigger
&lt;code class=&quot;highlighter-rouge&quot;&gt;sysdiagnose&lt;/code&gt; on Apple Watch will trigger on both Apple Watch and iPhone
Transfer from device using iTunes&lt;/p&gt;

&lt;p&gt;Here are some &lt;code class=&quot;highlighter-rouge&quot;&gt;key-chord&lt;/code&gt;s&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/key_chords.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;measure-performance&quot;&gt;Measure Performance&lt;/h1&gt;

&lt;h2 id=&quot;os_signpost&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;os_signpost&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Instruments can take the data that &lt;code class=&quot;highlighter-rouge&quot;&gt;signposts&lt;/code&gt; produce and you could check what your program is doing.&lt;/p&gt;

&lt;p&gt;Here is an example:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/os_signpost.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;os_signpost&lt;/code&gt; allows to mark the beginning and the end(&lt;code class=&quot;highlighter-rouge&quot;&gt;.begin&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;.end&lt;/code&gt;).&lt;/p&gt;

&lt;h2 id=&quot;measure-asynchronous-operation&quot;&gt;Measure Asynchronous Operation&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Signpost Name&lt;/li&gt;
  &lt;li&gt;Signpost ID – tell overlapping operations apart
  &lt;img src=&quot;/images/2019-05-16-OSLog/signpost_id.png&quot; width=&quot;100%&quot; /&gt;
    &lt;ul&gt;
      &lt;li&gt;Making Signpost ID ()
  &lt;img src=&quot;/images/2019-05-16-OSLog/make_signpost_id.png&quot; width=&quot;100%&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;process-scoped&lt;/li&gt;
      &lt;li&gt;making from object is convenient if we have the same object at &lt;code class=&quot;highlighter-rouge&quot;&gt;.begin&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;.end&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Demo
  &lt;img src=&quot;/images/2019-05-16-OSLog/signpost_id_ex.png&quot; width=&quot;100%&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;add-metadata-to-signpost&quot;&gt;Add Metadata to Signpost&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Add context to the &lt;code class=&quot;highlighter-rouge&quot;&gt;.begin&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;.end&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Be able to pass arguments with &lt;code class=&quot;highlighter-rouge&quot;&gt;os_log&lt;/code&gt; format string literal&lt;/li&gt;
  &lt;li&gt;Pass many arguments with different types&lt;/li&gt;
  &lt;li&gt;Pass dynamic strings&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;add-independent-event&quot;&gt;Add Independent Event&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;os_signpost&lt;/code&gt; have &lt;code class=&quot;highlighter-rouge&quot;&gt;.event&lt;/code&gt; type
Marking a single point&lt;/p&gt;

&lt;h2 id=&quot;conditionally-enable-signpost&quot;&gt;Conditionally Enable Signpost&lt;/h2&gt;
&lt;p&gt;Signposts are lightweight&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Built to minimize observer effect&lt;/li&gt;
  &lt;li&gt;Built for fine-grained measurement in a short time span&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;OSLog.disabled&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019-05-16-OSLog/signpost_enable.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;instruments&quot;&gt;Instruments&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Blank -&amp;gt; add &lt;code class=&quot;highlighter-rouge&quot;&gt;os_signpost&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Able to retrieve from &lt;code class=&quot;highlighter-rouge&quot;&gt;Summary&lt;/code&gt; part&lt;/li&gt;
  &lt;li&gt;Able to &lt;code class=&quot;highlighter-rouge&quot;&gt;Record&lt;/code&gt; the action&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;reference-link&quot;&gt;Reference link&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.apple.com/documentation/os/logging&quot;&gt;Logging&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2016/721/&quot;&gt;Unified Logging and Activity Tracing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="iOS" /><category term="Logging" /><category term="OSLog" /><category term="OS" /><summary type="html">This article is introducing the Unified Logging system and how to use it to measure performace.</summary></entry><entry><title type="html">Crash Reports</title><link href="http://localhost:4000/ios/xcode/crash%20reports/debug/2019/05/14/Crash-Reports.html" rel="alternate" type="text/html" title="Crash Reports" /><published>2019-05-14T01:04:00+09:00</published><updated>2019-05-14T01:04:00+09:00</updated><id>http://localhost:4000/ios/xcode/crash%20reports/debug/2019/05/14/Crash-Reports</id><content type="html" xml:base="http://localhost:4000/ios/xcode/crash%20reports/debug/2019/05/14/Crash-Reports.html">&lt;p&gt;As an app developer, not only deploy the product, we also need to be able to analyze the crash log. And find a way to fix the crashes.&lt;/p&gt;

&lt;p&gt;When an application crashed, a &lt;code class=&quot;highlighter-rouge&quot;&gt;crash report&lt;/code&gt; is created and stored on the device. This article is simple introduce the crash reports contents and the analytic method.&lt;/p&gt;

&lt;h1 id=&quot;symbolicating-crash-reports&quot;&gt;Symbolicating Crash Reports&lt;/h1&gt;
&lt;p&gt;Crash reports with backtraces need to be &lt;code class=&quot;highlighter-rouge&quot;&gt;symbolicated&lt;/code&gt; before being anlyzed. Symbolication replacec memory addresses with human-readable function names and line numbers.&lt;/p&gt;

&lt;p&gt;Here is the overview of the crash reporting and symbolicating process.
&lt;img src=&quot;/images/2019-05-13-Crash-Reports/overview.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;symbolicating-process&quot;&gt;Symbolicating Process&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Compiler translates the source code, it also generates debug symbols (which map each machine instruction in the comipled binary back to the line of source code from which it originated) – Depending on the &lt;code class=&quot;highlighter-rouge&quot;&gt;Debug Information Format&lt;/code&gt; build settings. These debug symbols are stored inside the binary or in a companion Debug Symbol(&lt;code class=&quot;highlighter-rouge&quot;&gt;dSYM&lt;/code&gt;) file. By default, debug builds of an application store the debug symbols inside the compiled binary while release builds of an application store the debug symbols in a companion dSYM file to reduce the binary size. The Debug Symbol file and application binary are tied together on a per-build-basis by the build UUID. A new UUID is generated for each build of your application and uniquely identifies that build. Even if a functionally-identical executable is rebuilt from the same source code, with the same compiler settings, it will have a different build UUID. Debug Symbol files from subsequent builds, even from the same source files, will not interoperate with binaries from other builds.&lt;/li&gt;
  &lt;li&gt;During archive, Xcode will gather the application binary along with the .dSYM file and store them at a location inside your home folder. You can find all of your archived applications in the Xcode Organizer under the “Archived” section.
    &lt;ul&gt;
      &lt;li&gt;NOTE: To symbolicate crash reports from testers, app review, and customers, you must retain th archive for each build of the application that you distribute.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Distributing: if you are distributing your app via the App Store, or conducting a beta test using Test Flight, you will be given the option of including the &lt;code class=&quot;highlighter-rouge&quot;&gt;dSYM&lt;/code&gt; file when uploading your archive to iTunes Connect. In the submission dialog, check “Include app symbols for your application…”. Uploading your &lt;code class=&quot;highlighter-rouge&quot;&gt;dSYM&lt;/code&gt; file is necessary to receive crash reports collected from TestFlight users and customers who have opted to share diagnostic data.&lt;/li&gt;
  &lt;li&gt;When your application crashes, an unsymbolicated crash report is created and stored on the device.&lt;/li&gt;
  &lt;li&gt;Users can retrieve crash reports directly from their device by following the steps in Debugging Deployed iOS Apps. If you have distributed your application via AdHoc or Enterprise distribution, this is the only way to acquire crash reports from your users.&lt;/li&gt;
  &lt;li&gt;Crash reports retrieved from a device are unsymbolicated and will need to be symbolicated using Xcode. Xcode uses the dSYM file associated with your application binary to replace each address in the backtrace with its originating location in your source code. The result is a symbolicated crash report.&lt;/li&gt;
  &lt;li&gt;If the user has opted to share diagnostic data with Apple, or if the user has installed a beta version of your application through TestFlight, the crash report is uploaded to the App Store.&lt;/li&gt;
  &lt;li&gt;The App Store symbolicates the crash report and groups it with similar crash reports. This aggregate of similar crash reports is called a Crash Point.&lt;/li&gt;
  &lt;li&gt;The symbolicated crash reports are made available to you in Xcode’s Crashes organizer.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;getting-dsym-files&quot;&gt;Getting dSYM files&lt;/h2&gt;

&lt;h3 id=&quot;downloading-the-dsym-files-from-xcode&quot;&gt;Downloading the dSYM files from Xcode&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;In the Archives organizer, select the archive that you originally submitted to the App Store.&lt;/li&gt;
  &lt;li&gt;Click the Download dSYMs button.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;downloading-the-dsym-files-from-the-itunes-connect-website&quot;&gt;Downloading the dSYM files from the iTunes Connect website&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Open the App Details page.&lt;/li&gt;
  &lt;li&gt;Click Activity.&lt;/li&gt;
  &lt;li&gt;From the list of All Builds, select a version.&lt;/li&gt;
  &lt;li&gt;Click the Download dSYM link.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;translating-symbol-names-back-to-original-names&quot;&gt;Translating symbol names back to original names&lt;/h3&gt;
&lt;p&gt;When you upload your app with bitcode to the App Store, you may choose not to
send your application’s symbols by unchecking the “Upload your app’s symbols to
receive symbolicated reports from Apple” box in the submission dialog.
If you choose not to send your app’s symbol information to Apple, Xcode will
replace the symbols in your app’s .dSYM files with obfuscated symbols such as
“&lt;em&gt;_hidden#109&lt;/em&gt;” before sending your app to iTunes Connect. Xcode creates a
mapping between the original symbols and the “hidden” symbols and stores this
mapping in a .bcsymbolmap file inside the application archive. Each .dSYM file
will have a corresponding .bcsymbolmap file.&lt;/p&gt;

&lt;p&gt;Before symbolicating crash reports, you will need to de-obfuscate the symbols in
the &lt;code class=&quot;highlighter-rouge&quot;&gt;.dSYM&lt;/code&gt; files downloaded from iTunes Connect.
If you use the Download dSYMs button in Xcode, this de-obfuscation will be
performed automatically for you.
However, if you use the iTunes Connect website to download the &lt;code class=&quot;highlighter-rouge&quot;&gt;.dSYM&lt;/code&gt; files, open Terminal and use the following command to de-obfuscate your symbols
(replacing the example paths with your own archive and the dSYMs folder downloaded from iTunes Connect):&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun dsymutil -symbol-map ~/Library/Developer/Xcode/Archives/2017-11-23/MyGreatApp\ 11-23-17\,\ 12.00\ PM.xcarchive/BCSymbolMaps ~/Downloads/dSYMs/3B15C133-88AA-35B0-B8BA-84AF76826CE0.dSYM
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;check-if-a-crash-report-is-symbolicated&quot;&gt;Check if a Crash Report is Symbolicated&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/images/2019-05-13-Crash-Reports/symbolicate_report.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;symbolicating-ios-crash-reports-with-xcode&quot;&gt;Symbolicating iOS Crash Reports with Xcode&lt;/h2&gt;
&lt;p&gt;Xcode will automatically attempt to symbolicate all crash reports.
All you need to do for symbolication is to add the crash report to the Xcode Organizer.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Note: Xcode will not accept crash reports without a &lt;code class=&quot;highlighter-rouge&quot;&gt;.crash&lt;/code&gt; extension. If you have received a crash report without an extension, or with a &lt;code class=&quot;highlighter-rouge&quot;&gt;.txt&lt;/code&gt; extension, rename it to have a &lt;code class=&quot;highlighter-rouge&quot;&gt;.crash&lt;/code&gt; extension before following the steps listed below.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Follow the steps:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Connect an iOS device to your Mac&lt;/li&gt;
  &lt;li&gt;Choose “Devices” from the “Window” menu&lt;/li&gt;
  &lt;li&gt;Under the “DEVICES” section in the left column, choose a device&lt;/li&gt;
  &lt;li&gt;Click the “View Device Logs” button under the “Device Information” section on the right hand panel&lt;/li&gt;
  &lt;li&gt;Drag your crash report onto the left column of the presented panel&lt;/li&gt;
  &lt;li&gt;Xcode will automatically symbolicate the crash report and display the results&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;symbolicating-crash-reports-with-atos&quot;&gt;Symbolicating Crash Reports With atos&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;atos&lt;/code&gt; command can be used to symbolicate individual addresses in the backtrace
of an unsymbolicatd, or partially symbolicatd, crash report.&lt;/p&gt;

&lt;p&gt;Steps:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Find a line in the backtrace which you want to symbolicate. Note the name of the binary image in the second column, and the address in the third column.&lt;/li&gt;
  &lt;li&gt;Look for a binary image with that name in the list of binary images at the bottom of the crash report. Note the architecture and load address of the binary image.
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;atos -arch &amp;lt;Binary Architecture&amp;gt; -o &amp;lt;Path to dSYM file&amp;gt;/Contents/Resources/DWARF/&amp;lt;binary image name&amp;gt; -l &amp;lt;load address&amp;gt; &amp;lt;address to symbolicate&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;symbolication-troubleshooting&quot;&gt;Symbolication Troubleshooting&lt;/h2&gt;
&lt;p&gt;If Xcode is failing to fully symbolicate a crash report, it’s likely because your
Mac is missing the dSYM file for the application binary, the dSYM files for one
or more frameworks the application links against, or the device symbols for the
OS the application was running on when it crashed.&lt;/p&gt;

&lt;p&gt;Steps:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Find a line in the backtrace which Xcode failed to symbolicate. Note the name of the binary image in the second column.&lt;/li&gt;
  &lt;li&gt;Look for a binary image with that name in the list of binary images at the bottom of the crash report. This list contains the UUIDs for each of the binary images that were loaded into the process at the time of the crash.
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ grep --after-context=1000 &quot;Binary Images:&quot; &amp;lt;Path to Crash Report&amp;gt; | grep &amp;lt;Binary Name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Convert the UUID of the binary image to a 32 character string seperated in groups of 8-4-4-4-12 (XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX). Note that all letters must be uppercased.&lt;/li&gt;
  &lt;li&gt;Search for the UUID using the mdfind command line tool using the query “com_apple_xcode_dsym_uuids == &lt;UUID&gt;&quot; (include the quotation marks).
&lt;/UUID&gt;    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mdfind &quot;com_apple_xcode_dsym_uuids == &amp;lt;UUID&amp;gt;&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;If Spotlight finds a dSYM file for the UUID, mdfind will print the path to the dSYM file and possibly its containing archive. If a dSYM file for the UUID was not found, mdfind will exit without printing anything.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;If you think that you have the correct dSYM for the binary image, you can use the dwarfdump command to print the matching UUIDs. You can also use the dwarfdump command to print the UUIDs of a binary.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun dwarfdump --uuid &amp;lt;Path to dSYM file&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;analyzing-crash-reports&quot;&gt;Analyzing Crash Reports&lt;/h1&gt;

&lt;h1 id=&quot;getting-crash-logs&quot;&gt;Getting Crash Logs&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/archive/qa/qa1747/_index.html&quot;&gt;Debugging Deployed iOS Apps&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;getting-crash-logs-directly-from-a-device-without-xcode&quot;&gt;Getting Crash Logs Directly From a Device Without Xcode&lt;/h3&gt;
&lt;p&gt;(It is not possible to get device console logs directly from a device)
1) Open Settings app
2) Go to Privacy, then Diagnostics &amp;amp; Usage
3) Select Diagnostics &amp;amp; Usage Data
4) Locate the log for the crashed app. The logs will be named in the format: &lt;AppName&gt;_&lt;DateTime&gt;_&lt;DeviceName&gt;
5) Select the desired log. Then, using the text selection UI select the entire text of the log. Once the text is selected, tap Copy
6) Paste the copied text to Mail and send to an email address as desired&lt;/DeviceName&gt;&lt;/DateTime&gt;&lt;/AppName&gt;&lt;/p&gt;

&lt;h3 id=&quot;getting-crash-logs-and-console-output-from-a-device-using-xcode&quot;&gt;Getting Crash Logs and Console Output From a Device Using Xcode&lt;/h3&gt;
&lt;p&gt;(Even though you won’t be able to run the app in Xcode’s debugger, Xcode can still give you all the information you need to debug the problem.)
1) Plug in the device and open Xcode
2) Choose Window -&amp;gt; Devices from the menu bar
3) Under the DEVICES section in the left column, choose the device
4) To see the device console, click the up-triangle at the bottom left of the right hand panel
5) Click the down arrow on the bottom right to save the console as a file
6) To see crash logs, select the View Device Logs button under the Device Information section on the right hand panel
7) Find your app in the Process column and select the Crash log to see the contents.
8) To save a crash log, right click the entry on the left column and choose “Export Log”
9) Xcode 6 will also list low memory logs here. These will be shown with a Process name “Unknown” and Type “Unknown”. You should examine the contents of these logs to determine whether any of these are caused by your app. For more information about low memory logs, see Understanding and Analyzing iOS Application Crash Reports.&lt;/p&gt;

&lt;h4 id=&quot;reference&quot;&gt;Reference&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html&quot;&gt;Technical Note TN2151: Understanding and Analyzing Application Crash Reports&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="iOS" /><category term="XCode" /><category term="Crash Reports" /><category term="Debug" /><summary type="html">As an app developer, not only deploy the product, we also need to be able to analyze the crash log. And find a way to fix the crashes.</summary></entry><entry><title type="html">Design Pattern PART I - Creational Patterns</title><link href="http://localhost:4000/design%20pattern/creational%20pattern/2019/04/15/Design-Pattern-PART-I-Creational-Pattern.html" rel="alternate" type="text/html" title="Design Pattern PART I - Creational Patterns" /><published>2019-04-15T21:20:00+09:00</published><updated>2019-04-15T21:20:00+09:00</updated><id>http://localhost:4000/design%20pattern/creational%20pattern/2019/04/15/Design-Pattern-PART-I-Creational-Pattern</id><content type="html" xml:base="http://localhost:4000/design%20pattern/creational%20pattern/2019/04/15/Design-Pattern-PART-I-Creational-Pattern.html">&lt;h1 id=&quot;define&quot;&gt;Define&lt;/h1&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Creational Design Patterns are design patterns that
deal with object creation mechanisms, trying to create
objects in a manner suitabl to the situation.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;basic-form&quot;&gt;Basic Form&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;Abstract Factory
 Creates an instance of several familis of classes&lt;/li&gt;
  &lt;li&gt;Builder
 Separates object construction from its representation&lt;/li&gt;
  &lt;li&gt;Factory Method
 Creates an instance of several derived classes&lt;/li&gt;
  &lt;li&gt;Object Pool
 Avoid expensive acquisition and release of resources by recycling objects that are no longer in use&lt;/li&gt;
  &lt;li&gt;Prototype
 A fully initialized instance to be copied and cloned&lt;/li&gt;
  &lt;li&gt;Singleton
 A class which only a single instance can exist&lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;rules&quot;&gt;Rules&lt;/h1&gt;
&lt;ol&gt;
  &lt;li&gt;Sometimes the basic form might not fit properly.
    &lt;ul&gt;
      &lt;li&gt;&lt;em&gt;Abstract Factory&lt;/em&gt; might store set of &lt;em&gt;Prototypes&lt;/em&gt; from which to clone and return product objects&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;Builder&lt;/em&gt; can use of the other patterns to implement which components get build&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;Abstract Factory&lt;/em&gt;, &lt;em&gt;BUilder&lt;/em&gt; and &lt;em&gt;Prototype&lt;/em&gt; can use &lt;em&gt;Singleton&lt;/em&gt; in their implementation&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Abstract Factory&lt;/em&gt;, &lt;em&gt;Builder&lt;/em&gt;, and &lt;em&gt;Prototype&lt;/em&gt; define a factory object that’s responsible for knowing and creating the class of product objects, and make it a parameter of the system.
    &lt;ul&gt;
      &lt;li&gt;&lt;em&gt;Abstract Factory&lt;/em&gt; has the factory object producing objects of several classes.&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;Builder&lt;/em&gt; has the factory object building a complex product incrementally using a correspondingly complex protocol.&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;Prototype&lt;/em&gt; has the factory object (aka prototype) building a product by copying a prototype object.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Abstract Factory&lt;/em&gt;
    &lt;ul&gt;
      &lt;li&gt;are often implemented with Factory Methods, but they can also be implemented using &lt;em&gt;Prototype&lt;/em&gt;.&lt;/li&gt;
      &lt;li&gt;can be used as an alternative to Facade to hide platform-specific classes.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Builder&lt;/em&gt;
    &lt;ul&gt;
      &lt;li&gt;focuses on constructing a complex object step by step. &lt;em&gt;Abstract Factory&lt;/em&gt; emphasizes a family of product objects (either simple or complex). &lt;em&gt;Builder&lt;/em&gt; returns the product as a final step, but as far as the &lt;em&gt;Abstract Factory&lt;/em&gt; is concerned, the product gets returned immediately.&lt;/li&gt;
      &lt;li&gt;is to creation as &lt;em&gt;Strategy&lt;/em&gt; is to algorithm.&lt;/li&gt;
      &lt;li&gt;often builds a &lt;em&gt;Composite&lt;/em&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Factory Methods&lt;/em&gt;
    &lt;ul&gt;
      &lt;li&gt;are usually called within &lt;em&gt;Template methods&lt;/em&gt;.&lt;/li&gt;
      &lt;li&gt;&lt;em&gt;Factory Method&lt;/em&gt;: creation through inheritance.
&lt;em&gt;Prototype&lt;/em&gt;: creation through delegation.&lt;/li&gt;
      &lt;li&gt;Often, designs start out using &lt;em&gt;Factory Method&lt;/em&gt; (less complicated, more customizable, subclasses proliferate) and evolve toward &lt;em&gt;Abstract Factory&lt;/em&gt;, &lt;em&gt;Prototype&lt;/em&gt;, or &lt;em&gt;Builder&lt;/em&gt; (more flexible, more complex) as the designer discovers where more flexibility is needed.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;em&gt;Prototype&lt;/em&gt;
    &lt;ul&gt;
      &lt;li&gt;doesn’t require subclassing, but it does require an Initialize operation. &lt;em&gt;Factory Method&lt;/em&gt; requires subclassing, but doesn’t require Initialize.&lt;/li&gt;
      &lt;li&gt;Designs that make heavy use of the &lt;em&gt;Composite&lt;/em&gt; and &lt;em&gt;Decorator&lt;/em&gt; patterns often can benefit from Prototype as well.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h1 id=&quot;reference&quot;&gt;Reference&lt;/h1&gt;
&lt;p&gt;https://sourcemaking.com/design_patterns/creational_patterns&lt;/p&gt;</content><author><name></name></author><category term="Design Pattern" /><summary type="html">Define Creational Design Patterns are design patterns that deal with object creation mechanisms, trying to create objects in a manner suitabl to the situation.</summary></entry></feed>