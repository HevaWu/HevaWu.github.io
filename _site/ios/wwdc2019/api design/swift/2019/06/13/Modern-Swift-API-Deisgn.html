<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Heva Wu's Blog - Modern Swift API Design</title>
    <meta name="viewport" content="width=device-width">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- Responsive CSS -->
    <link rel="stylesheet" href="/css/responsive.css">

    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Raleway:300,400,700' rel='stylesheet' type='text/css'>
</head>

<body>
  <div class="site">
    <div class="sidebar" id="sidebar">
      <div class="header">
        <h1 class="title"><a href="/about" ><img id="logo" src="/images/logo.png"></a></h1>
        <span class="tagline">Heva Wu's Blog</span>
        <span class="motto">I may not be there yet, but I'm closer than I was yesterday. </span>
        <span class="motto">(￣︶￣)↗[GO!]</span>
      </div>
      <div class="sidebar-info">
        <ul class="sidebar-info-list">
          <li class="sidebar-info-link">
              <a href="/blog/tags" class="">Tags</a> <span class="separator">&bull;</span>
          </li>
          <li>
              <a href="/blog/categories" class="">Categories</a> <span class="separator">&bull;</span>
          </li>
          <li>
              <a href="/blog.html" class="footer-link">Latest Blog</a>
          </li>
        </ul>
      </div>
      <div class="footer">
        <span id="footer-links">
          <a href="/about" class="footer-link">About</a> <span class="separator">&bull;</span>
          <a href="https://www.linkedin.com/in/he-heva-wu-2a6819113/" class="footer-link">LinkedIn</a> <span class="separator">&bull;</span>
          <a href="https://github.com/HevaWu" class="footer-link">GitHub</a>
        </span>
      </div>
    </div>

    <div class="content" id="home">
  <div id="sidebar-button">
    <img src="/images/sidebar-button.png">
  </div>

  <div id="post-info">
    <div id="cover-photo-container">
      
    </div>
    <div id="info-container">
      <h1 id="title">Modern Swift API Design</h1>
      <time datetime="2019-06-13T00:59:00+09:00" itemprop="datePublished">
        Jun 13, 2019
      </time>
      <div id="tag-category-container">
           
          
          <a href="/blog/tags/#ios" class="post-tag">iOS</a>
          
          <a href="/blog/tags/#wwdc2019" class="post-tag">WWDC2019</a>
          
          <a href="/blog/tags/#api-design" class="post-tag">API Design</a>
          
          <a href="/blog/tags/#swift" class="post-tag">Swift</a>
          
          
          <p></p>
           
          
          <a href="/blog/categories/#ios" class="post-category">iOS</a>
          
          <a href="/blog/categories/#wwdc2019" class="post-category">WWDC2019</a>
          
          <a href="/blog/categories/#api-design" class="post-category">API Design</a>
          
          <a href="/blog/categories/#swift" class="post-category">Swift</a>
          
          
      </div>
    </div>
  </div>

  <div class="post">
    <h1 id="guidelines">Guidelines</h1>
<p><code class="highlighter-rouge">swift.org/documentation/api-design-guidelines</code></p>

<h1 id="clarity-the-point-of-use">Clarity the point of use</h1>
<ul>
  <li>No Prefixes in Swift-only Frameworks</li>
</ul>

<h2 id="values-and-references">Values and References</h2>
<p>Classes - Reference Types
Structs and Enums - Value Types</p>

<h3 id="choosing---reference-or-value-">Choosing - Reference or Value ?</h3>
<p>Prefer structs over classes</p>
<ul>
  <li>Only choose classes when reference semantics are important</li>
</ul>

<p>Classes can make a good choice when</p>
<ul>
  <li>You need a reference counting and deinitialization</li>
  <li>The value is held centrally and shared</li>
  <li>Where there is held centrally and shared</li>
</ul>

<h3 id="value-and-reference-semantics">Value and Reference Semantics</h3>
<p>Value types makes copy of reference types</p>

<h2 id="protocols-and-generics">Protocols and Generics</h2>
<p>Don’t literally start with a protocol</p>
<ul>
  <li>Start with concrete use cases</li>
  <li>Discover a need for generic code</li>
  <li>Try to compose solutions from existing protocols first</li>
  <li>Consider a generic type instead of a protocol</li>
</ul>

<p>Protocol for code reuse, otherwise use generics.</p>

<h3 id="key-path-member-lookup">Key Path Member Lookup</h3>
<p>Swift Evolution: SE-0252
<code class="highlighter-rouge">@dynamicMemberLookup</code> &amp; <code class="highlighter-rouge">subscript</code>
<code class="highlighter-rouge">$</code> backing storage property, binding property, key path member lookup</p>

<h2 id="property-wrapper">Property Wrapper</h2>
<p><code class="highlighter-rouge">@LateInitialized</code> &lt;- give a private policy
Provides similar benefits to the built-in <code class="highlighter-rouge">lazy</code></p>
<ul>
  <li>Eliminates boilerplate</li>
  <li>Documents semantics at the point of definition</li>
</ul>

<p>Property wrappers reuse computed property definitions.</p>

<h3 id="using-property-wrappers">Using Property Wrappers</h3>
<p>Uses of property wrappers expand into a stored property and a computed property</p>

<h3 id="using-the-defensivecopying-property-wrapper">Using the DefensiveCopying Property Wrapper</h3>
<p><code class="highlighter-rouge">@DefensiveCopying</code> Variables can be initialized in their declaration</p>

<ul>
  <li>Property Wrappers in UserDefault</li>
  <li>Property Wrappers in SwiftUI</li>
</ul>


  </div>
  <div class="colophon">
    <p>
      <span id="pub-date">Published on 13 Jun 2019</span> <span class="separator">&bull;</span>
      <span id="social">Find me on <a href="">Twitter</a>!</span>
    </p>
  </div>

  <!-- Add Disqus comments. -->
  <div id="disqus_thread"></div>
  <script src="/scripts/disqus.js" type="text/javascript"></script>
  <script id="dsq-count-scr" src="//hevawu-github-io.disqus.com/count.js" async></script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>


  </div>
  <script src="/scripts/responsive.js" type="text/javascript"></script>
</body>

</html>